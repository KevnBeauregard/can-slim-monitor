<!DOCTYPE html>
<html>
<head>
  <title>Watchlist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <h2>üìà Watchlist actuelle</h2>
  <table border="1">
    <tr>
      <th>Ticker</th>
      <th>Prix d‚Äôentr√©e</th>
      <th>Prix actuel</th>
      <th>Gain / Perte (%)</th>
    </tr>
    {% for t, info in watchlist.items() %}
    <tr>
      <td>{{ t }}</td>
      <td>{{ info.entry }}</td>
      <td>{{ info.current if info.current is not none else "?" }}</td>
      <td>
        {% if info.change is not none %}
          <span style="color:{{ 'green' if info.change >= 0 else 'red' }}">
            {{ info.change }}%
          </span>
        {% else %}
          ?
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </table>

  <h3>Ajouter / modifier</h3>
  <form method="post" action="/update">
    Cl√©: <input name="key"><br>
    Ticker: <input name="ticker"><br>
    Prix: <input name="price"><br>
    <button type="submit">Enregistrer</button>
  </form>

  <h3>Supprimer une action</h3>
  <form method="post" action="/delete">
    Cl√©: <input name="key"><br>
    Ticker: <input name="ticker"><br>
    <button type="submit">Supprimer</button>
  </form>

  <p><a href="/">‚Üê Retour √† l'accueil</a></p>
</body>
</html>
